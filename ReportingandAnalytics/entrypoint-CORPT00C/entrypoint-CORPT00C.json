{
    "created_on": "2026-01-21",
    "document_title": "CR00 Transaction Documentation",
    "type": "entry_point",
    "document_name": "CR00",
    "summary": {
        "overview": "The CR00 transaction provides an online interface for generating transaction reports in the CardDemo application. Users can select from monthly, yearly, or custom date range reports, which are then submitted as batch jobs for processing.",
        "business_functions": [
            "Program Initialization - Initialize program variables and flags for transaction report processing",
            "Session Management - Handle CICS session entry and re-entry with commarea validation",
            "Screen Display Management - Send transaction report screen to user with proper formatting",
            "User Input Processing - Receive and validate user input from transaction report screen",
            "Key Press Handling - Process different function keys (Enter, PF3) and invalid key responses",
            "Report Type Selection - Determine which report type user selected (Monthly, Yearly, or Custom)",
            "Monthly Report Processing - Generate current month date range for monthly transaction report",
            "Yearly Report Processing - Generate current year date range (Jan 1 to Dec 31) for yearly report",
            "Custom Date Validation - Validate user-entered start and end dates for custom report",
            "Date Field Validation - Check if date fields are not empty and contain valid values",
            "Date Format Validation - Validate month (1-12), day (1-31), and year format",
            "Date Integrity Validation - Call external date utility to verify date validity",
            "Report Confirmation - Prompt user to confirm report generation before submission",
            "Confirmation Response Processing - Handle user's yes/no confirmation response",
            "JCL Job Preparation - Prepare batch job JCL with report parameters and date ranges",
            "Job Submission - Submit prepared JCL job to internal reader queue for batch processing",
            "TDQ Writing - Write JCL records to transient data queue for job execution",
            "Success Notification - Display confirmation message when report is successfully submitted",
            "Screen Navigation - Handle navigation back to previous screens or main menu",
            "Error Handling - Display appropriate error messages for validation failures"
        ],
        "environment_summary": {
            "workload_type": "Transaction",
            "database_types": [
                "VSAM"
            ],
            "integration_components": [
                "CICS"
            ],
            "dataset_types": [
                "VSAM KSDS"
            ]
        }
    },
    "functionality_flow": {
        "CR00": [
            {
                "program_name": "CORPT00C",
                "program_overview": "Provides user interface for generating transaction reports and submits batch jobs",
                "called_programs": [
                    "COMEN01C",
                    "COSGN00C",
                    "CSUTLDTC"
                ]
            },
            {
                "program_name": "COMEN01C",
                "program_overview": "Main menu interface for regular users with navigation controls",
                "called_programs": [
                    "COSGN00C"
                ]
            },
            {
                "program_name": "COSGN00C",
                "program_overview": "User authentication and sign-on screen for credential validation",
                "called_programs": [
                    "COADM01C",
                    "COMEN01C"
                ]
            },
            {
                "program_name": "COADM01C",
                "program_overview": "Administrative menu interface for admin users",
                "called_programs": [
                    "COSGN00C"
                ]
            },
            {
                "program_name": "CSUTLDTC",
                "program_overview": "Date validation utility module using IBM Language Environment",
                "called_programs": []
            }
        ]
    },
    "datasource_summary": [
        {
            "name": "User Security File (USRSEC)",
            "original_name": "USRSEC",
            "business_name": "User Security File",
            "type": "CICS_FILE",
            "function": "User security file used to authenticate user credentials by reading user ID and password information",
            "used_by_programs": [
                "COSGN00C.cbl"
            ],
            "accessType": [
                "READ"
            ]
        },
        {
            "name": "Job Submission Queue (JOBS)",
            "original_name": "JOBS",
            "business_name": "Job Submission Queue",
            "type": "CICS_TDQ",
            "function": "Transient Data Queue used to submit JCL job records to the internal reader for batch job execution",
            "used_by_programs": [
                "CORPT00C.cbl"
            ],
            "accessType": [
                "WRITE"
            ]
        }
    ],
    "program_paths": {
        "CORPT00C": "aws-mainframe-modernization-carddemo-main/app/cbl/CORPT00C.cbl",
        "COMEN01C": "aws-mainframe-modernization-carddemo-main/app/cbl/COMEN01C.cbl",
        "COSGN00C": "aws-mainframe-modernization-carddemo-main/app/cbl/COSGN00C.cbl",
        "COADM01C": "aws-mainframe-modernization-carddemo-main/app/cbl/COADM01C.cbl",
        "CSUTLDTC": "aws-mainframe-modernization-carddemo-main/app/cbl/CSUTLDTC.cbl"
    },
    "screen_preview": [
        {
            "name": "COADM01",
            "content": "<div style=\"font-family: 'Courier New', monospace; background-color: #000000; color: #FFFFFF; white-space: pre;\">\n<span style=\"color: #0000FF;\">Tran:</span><span style=\"color: #0000FF;\">CA00</span>      <span style=\"color: #FFFF00;\">      AWS Mainframe Modernization       </span> <span style=\"color: #0000FF;\">Date:</span><span style=\"color: #0000FF;\">mm/dd/yy</span>\n<span style=\"color: #0000FF;\">Prog:</span><span style=\"color: #0000FF;\">COADM01C</span>  <span style=\"color: #FFFF00;\">              CardDemo                  </span> <span style=\"color: #0000FF;\">Time:</span><span style=\"color: #0000FF;\">hh:mm:ss</span>\n\n\n                                   <span style=\"color: #FFFFFF; font-weight: bold;\">Admin Menu</span>\n\n\n                    1. User List (Security)               \n                    2. User Add (Security)                \n                    3. User Update (Security)             \n                    4. User Delete (Security)             \n                    5. Transaction Type List/Update (Db2) \n                    6. Transaction Type Maintenance (Db2) \n                     \n                     \n                     \n                     \n                     \n                     \n\n\n               <span style=\"color: #00FFFF; font-weight: bold;\">Please select an option :</span><span style=\"text-decoration: underline;\">  </span>\n\n\n\n\n<span style=\"color: #FF0000; font-weight: bold;\">                                                                              </span>\n<span style=\"color: #FFFF00;\">ENTER=Continue  F3=Exit</span>\n</div>",
            "order": 0
        },
        {
            "name": "COSGN00",
            "content": "<div style=\"font-family: 'Courier New', monospace; background-color: #000000; color: #FFFFFF; white-space: pre;\">\n<span style=\"color: #0000FF;\">Tran :</span><span style=\"color: #0000FF;\">CC00</span>     <span style=\"color: #FFFF00;\">      AWS Mainframe Modernization       </span> <span style=\"color: #0000FF;\">Date :</span><span style=\"color: #0000FF;\">mm/dd/yy</span>\n<span style=\"color: #0000FF;\">Prog :</span><span style=\"color: #0000FF;\">COSGN00C</span> <span style=\"color: #FFFF00;\">              CardDemo                  </span> <span style=\"color: #0000FF;\">Time :</span><span style=\"color: #0000FF;\">Ahh:mm:ss</span>\n<span style=\"color: #0000FF;\">AppID:</span><span style=\"color: #0000FF;\">        </span> <span style=\"color: #0000FF;\">SysID:</span><span style=\"color: #0000FF;\">        </span>\n\n     <span style=\"color: #C0C0C0;\">This is a Credit Card Demo Application for Mainframe Modernization</span>\n\n                     <span style=\"color: #0000FF;\">+========================================+</span>\n                     <span style=\"color: #0000FF;\">|%%%%%%%  NATIONAL RESERVE NOTE  %%%%%%%%|</span>\n                     <span style=\"color: #0000FF;\">|%(1)  THE UNITED STATES OF KICSLAND (1)%|</span>\n                     <span style=\"color: #0000FF;\">|%$$              ___       ********  $$%|</span>\n                     <span style=\"color: #0000FF;\">|%$    {x}       (o o)                 $%|</span>\n                     <span style=\"color: #0000FF;\">|%$     ******  (  V  )      O N E     $%|</span>\n                     <span style=\"color: #0000FF;\">|%(1)          ---m-m---             (1)%|</span>\n                     <span style=\"color: #0000FF;\">|%%~~~~~~~~~~~ ONE DOLLAR ~~~~~~~~~~~~~%%|</span>\n                     <span style=\"color: #0000FF;\">+========================================+</span>\n\n                <span style=\"color: #00FFFF;\">Type your User ID and Password, then press ENTER:</span>\n\n                            <span style=\"color: #00FFFF;\">User ID     :</span><span style=\"color: #00FF00;\">        </span> <span style=\"color: #0000FF;\">(8 Char)</span>\n                            <span style=\"color: #00FFFF;\">Password    :</span><span style=\"color: #00FF00;\">________</span> <span style=\"color: #0000FF;\">(8 Char)</span>\n\n\n\n<span style=\"color: #FF0000;\">                                                                              </span>\n<span style=\"color: #FFFF00;\">ENTER=Sign-on  F3=Exit</span>\n</div>",
            "order": 1
        },
        {
            "name": "COMEN01",
            "content": "<div style=\"font-family: 'Courier New', monospace; background-color: #000000; color: #FFFFFF; white-space: pre;\">\n<span style=\"color: #0000FF;\">Tran:</span><span style=\"color: #0000FF;\">CM00</span>      <span style=\"color: #FFFF00;\">      AWS Mainframe Modernization       </span> <span style=\"color: #0000FF;\">Date:</span><span style=\"color: #0000FF;\">mm/dd/yy</span>\n<span style=\"color: #0000FF;\">Prog:</span><span style=\"color: #0000FF;\">COMEN01C</span>  <span style=\"color: #FFFF00;\">              CardDemo                  </span> <span style=\"color: #0000FF;\">Time:</span><span style=\"color: #0000FF;\">hh:mm:ss</span>\n\n\n                                  <span style=\"color: #FFFFFF; font-weight: bold;\">Main Menu</span>\n\n\n                   <span style=\"color: #0000FF;\">1. Account View                       </span>\n                   <span style=\"color: #0000FF;\">2. Account Update                     </span>\n                   <span style=\"color: #0000FF;\">3. Credit Card List                   </span>\n                   <span style=\"color: #0000FF;\">4. Credit Card View                   </span>\n                   <span style=\"color: #0000FF;\">5. Credit Card Update                 </span>\n                   <span style=\"color: #0000FF;\">6. Transaction List                   </span>\n                   <span style=\"color: #0000FF;\">7. Transaction View                   </span>\n                   <span style=\"color: #0000FF;\">8. Transaction Add                    </span>\n                   <span style=\"color: #0000FF;\">9. Transaction Reports                </span>\n                   <span style=\"color: #0000FF;\">10. Bill Payment                       </span>\n                   <span style=\"color: #0000FF;\">11. Pending Authorization View         </span>\n                   <span style=\"color: #0000FF;\"> </span>\n\n\n\n\n              <span style=\"color: #00FFFF; font-weight: bold;\">Please select an option :</span><span style=\"text-decoration: underline;\">  </span>\n\n\n\n<span style=\"color: #FF0000; font-weight: bold;\">                                                                              </span>\n<span style=\"color: #FFFF00;\">ENTER=Continue  F3=Exit</span>\n</div>",
            "order": 2
        },
        {
            "name": "CORPT00",
            "content": "<div style=\"font-family: 'Courier New', monospace; background-color: #000000; color: #FFFFFF; white-space: pre;\">\n<span style=\"color: #0000FF;\">Tran:</span><span style=\"color: #0000FF;\">CR00</span>         <span style=\"color: #FFFF00;\">      AWS Mainframe Modernization       </span> <span style=\"color: #0000FF;\">Date:</span><span style=\"color: #0000FF;\">mm/dd/yy</span>\n<span style=\"color: #0000FF;\">Prog:</span><span style=\"color: #0000FF;\">CORPT00C</span>     <span style=\"color: #FFFF00;\">              CardDemo                  </span> <span style=\"color: #0000FF;\">Time:</span><span style=\"color: #0000FF;\">hh:mm:ss</span>\n\n\n                             <span style=\"color: #FFFFFF; font-weight: bold;\">Transaction Reports</span>\n\n\n\n         <span style=\"color: #00FF00; text-decoration: underline;\"> </span>  <span style=\"color: #00FFFF; font-weight: bold;\">Monthly (Current Month)</span>\n\n         <span style=\"color: #00FF00; text-decoration: underline;\"> </span>  <span style=\"color: #00FFFF; font-weight: bold;\">Yearly (Current Year)</span>\n\n         <span style=\"color: #00FF00; text-decoration: underline;\"> </span>  <span style=\"color: #00FFFF; font-weight: bold;\">Custom (Date Range)</span>\n\n              <span style=\"color: #00FFFF;\">Start Date :</span> <span style=\"color: #00FF00; text-decoration: underline;\">  </span><span style=\"color: #0000FF;\">/</span><span style=\"color: #00FF00; text-decoration: underline;\">  </span><span style=\"color: #0000FF;\">/</span><span style=\"color: #00FF00; text-decoration: underline;\">    </span>     <span style=\"color: #0000FF;\">(MM/DD/YYYY)</span>\n              <span style=\"color: #00FFFF;\">  End Date :</span> <span style=\"color: #00FF00; text-decoration: underline;\">  </span><span style=\"color: #0000FF;\">/</span><span style=\"color: #00FF00; text-decoration: underline;\">  </span><span style=\"color: #0000FF;\">/</span><span style=\"color: #00FF00; text-decoration: underline;\">    </span>     <span style=\"color: #0000FF;\">(MM/DD/YYYY)</span>\n\n\n\n\n     <span style=\"color: #00FFFF;\">The Report will be submitted for printing. Please confirm: </span><span style=\"color: #00FF00; text-decoration: underline;\"> </span> <span style=\"color: #FFFFFF;\">(Y/N)</span>\n\n\n\n<span style=\"color: #FF0000; font-weight: bold;\">                                                                              </span>\n<span style=\"color: #FFFF00;\">ENTER=Continue  F3=Back</span>\n</div>",
            "order": 3
        }
    ],
    "flow_diagram_code": "flowchart TD\n    CORPT00C[\"Provides user interface for generating transaction reports and submits batch jobs (CORPT00C) \"]\n    COMEN01C[\"Main menu interface for regular users with navigation controls (COMEN01C) \"]\n    COSGN00C[\"User authentication and sign-on screen for credential validation (COSGN00C) \"]\n    COADM01C[\"Administrative menu interface for admin users (COADM01C) \"]\n    CSUTLDTC[\"Date validation utility module using IBM Language Environment (CSUTLDTC) \"]\n    CORPT00C --> COMEN01C\n    CORPT00C --> COSGN00C\n    CORPT00C --> CSUTLDTC\n    COMEN01C --> COSGN00C\n    COSGN00C --> COADM01C\n    COSGN00C --> COMEN01C\n    COADM01C --> COSGN00C\n"
}