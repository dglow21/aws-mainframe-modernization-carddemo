{
    "created_on": "2026-01-21",
    "document_title": "CT02 Transaction Documentation",
    "type": "entry_point",
    "document_name": "CT02",
    "summary": {
        "overview": "CT02 is a CICS transaction that provides an online interface for adding new financial transactions to the CardDemo application. Users can enter transaction details including account/card information, amounts, dates, and merchant data, with comprehensive validation and confirmation before storing the transaction record.",
        "business_functions": [
            "Program Initialization - Initialize program variables and check if program is being called for first time or re-entered",
            "Screen Navigation Control - Handle navigation between screens based on function keys (PF3 for previous screen, PF4 for clear screen, PF5 for copy last transaction)",
            "Input Key Field Validation - Validate either Account ID or Card Number is provided and is numeric",
            "Account ID to Card Number Cross-Reference - Look up card number using account ID from cross-reference file",
            "Card Number to Account ID Cross-Reference - Look up account ID using card number from cross-reference file",
            "Transaction Data Field Validation - Validate all required transaction fields are provided (type code, category code, source, description, amount, dates, merchant info)",
            "Numeric Field Validation - Validate that type code and category code are numeric values",
            "Amount Format Validation - Validate transaction amount is in correct format (+/-99999999.99)",
            "Date Format Validation - Validate origin date and process date are in YYYY-MM-DD format",
            "Date Validity Check - Verify that origin date and process date are valid calendar dates using external utility",
            "Merchant ID Validation - Validate merchant ID is numeric",
            "User Confirmation Check - Verify user has confirmed the transaction addition with Y/N response",
            "Next Transaction ID Generation - Find the highest existing transaction ID and increment by 1 for new transaction",
            "Transaction Record Creation - Create new transaction record with all validated input data",
            "Transaction Record Storage - Write the new transaction record to the transaction file",
            "Copy Last Transaction Data - Retrieve the most recent transaction data and populate input fields for user convenience",
            "Screen Display Management - Send transaction add screen to user with appropriate messages and field positioning",
            "Success Message Display - Display confirmation message with new transaction ID when transaction is successfully added",
            "Error Message Display - Display appropriate error messages for validation failures or system errors",
            "Screen Field Initialization - Clear all input fields when user requests screen reset"
        ],
        "environment_summary": {
            "workload_type": "Transaction",
            "database_types": [
                "VSAM"
            ],
            "integration_components": [
                "CICS"
            ],
            "dataset_types": [
                "VSAM KSDS"
            ]
        }
    },
    "functionality_flow": {
        "CT02": [
            {
                "program_name": "COTRN02C",
                "program_overview": "Main transaction processing program for adding new financial transactions with validation and confirmation",
                "called_programs": [
                    "COMEN01C",
                    "COSGN00C",
                    "CSUTLDTC"
                ]
            },
            {
                "program_name": "COMEN01C",
                "program_overview": "Main menu interface for regular users with navigation and access control",
                "called_programs": [
                    "COSGN00C"
                ]
            },
            {
                "program_name": "COSGN00C",
                "program_overview": "User authentication and sign-on screen with credential validation",
                "called_programs": [
                    "COADM01C",
                    "COMEN01C"
                ]
            },
            {
                "program_name": "COADM01C",
                "program_overview": "Administrative menu interface for admin users with function selection",
                "called_programs": [
                    "COSGN00C"
                ]
            },
            {
                "program_name": "CSUTLDTC",
                "program_overview": "Date validation utility that validates dates using IBM Language Environment API",
                "called_programs": []
            }
        ]
    },
    "datasource_summary": [
        {
            "name": "User Security File (USRSEC)",
            "original_name": "USRSEC",
            "business_name": "User Security File",
            "type": "CICS_FILE",
            "function": "User security file used to authenticate user credentials by reading user ID and password information",
            "used_by_programs": [
                "COSGN00C.cbl"
            ],
            "accessType": [
                "READ"
            ]
        },
        {
            "name": "Transaction File (TRANSACT)",
            "original_name": "TRANSACT",
            "business_name": "Transaction File",
            "type": "CICS_FILE",
            "function": "Primary transaction file used to store new transaction records and retrieve the highest transaction ID for generating new sequential transaction IDs",
            "used_by_programs": [
                "COTRN02C.cbl"
            ],
            "accessType": [
                "READ",
                "WRITE"
            ]
        },
        {
            "name": "Card Cross-Reference File (CCXREF)",
            "original_name": "CCXREF",
            "business_name": "Card Cross-Reference File",
            "type": "CICS_FILE",
            "function": "Card cross-reference file used to validate card numbers and retrieve associated account IDs when card number is provided as input",
            "used_by_programs": [
                "COTRN02C.cbl"
            ],
            "accessType": [
                "READ"
            ]
        },
        {
            "name": "Account Cross-Reference Index File (CXACAIX)",
            "original_name": "CXACAIX",
            "business_name": "Account Cross-Reference Index File",
            "type": "CICS_FILE",
            "function": "Account cross-reference alternate index file used to validate account IDs and retrieve associated card numbers when account ID is provided as input",
            "used_by_programs": [
                "COTRN02C.cbl"
            ],
            "accessType": [
                "READ"
            ]
        }
    ],
    "program_paths": {
        "COTRN02C": "aws-mainframe-modernization-carddemo-main/app/cbl/COTRN02C.cbl",
        "COMEN01C": "aws-mainframe-modernization-carddemo-main/app/cbl/COMEN01C.cbl",
        "COSGN00C": "aws-mainframe-modernization-carddemo-main/app/cbl/COSGN00C.cbl",
        "COADM01C": "aws-mainframe-modernization-carddemo-main/app/cbl/COADM01C.cbl",
        "CSUTLDTC": "aws-mainframe-modernization-carddemo-main/app/cbl/CSUTLDTC.cbl"
    },
    "screen_preview": [
        {
            "name": "COADM01",
            "content": "<div style=\"font-family: 'Courier New', monospace; background-color: #000000; color: #FFFFFF; white-space: pre;\">\n<span style=\"color: #0000FF;\">Tran:</span><span style=\"color: #0000FF;\">CA00</span>      <span style=\"color: #FFFF00;\">      AWS Mainframe Modernization       </span> <span style=\"color: #0000FF;\">Date:</span><span style=\"color: #0000FF;\">mm/dd/yy</span>\n<span style=\"color: #0000FF;\">Prog:</span><span style=\"color: #0000FF;\">COADM01C</span>  <span style=\"color: #FFFF00;\">              CardDemo                  </span> <span style=\"color: #0000FF;\">Time:</span><span style=\"color: #0000FF;\">hh:mm:ss</span>\n\n\n                                   <span style=\"color: #FFFFFF; font-weight: bold;\">Admin Menu</span>\n\n\n                    1. User List (Security)               \n                    2. User Add (Security)                \n                    3. User Update (Security)             \n                    4. User Delete (Security)             \n                    5. Transaction Type List/Update (Db2) \n                    6. Transaction Type Maintenance (Db2) \n                     \n                     \n                     \n                     \n                     \n                     \n\n\n               <span style=\"color: #00FFFF; font-weight: bold;\">Please select an option :</span><span style=\"text-decoration: underline;\">  </span>\n\n\n\n\n<span style=\"color: #FF0000; font-weight: bold;\">                                                                              </span>\n<span style=\"color: #FFFF00;\">ENTER=Continue  F3=Exit</span>\n</div>",
            "order": 0
        },
        {
            "name": "COSGN00",
            "content": "<div style=\"font-family: 'Courier New', monospace; background-color: #000000; color: #FFFFFF; white-space: pre;\">\n<span style=\"color: #0000FF;\">Tran :</span><span style=\"color: #0000FF;\">CC00</span>     <span style=\"color: #FFFF00;\">      AWS Mainframe Modernization       </span> <span style=\"color: #0000FF;\">Date :</span><span style=\"color: #0000FF;\">mm/dd/yy</span>\n<span style=\"color: #0000FF;\">Prog :</span><span style=\"color: #0000FF;\">COSGN00C</span> <span style=\"color: #FFFF00;\">              CardDemo                  </span> <span style=\"color: #0000FF;\">Time :</span><span style=\"color: #0000FF;\">Ahh:mm:ss</span>\n<span style=\"color: #0000FF;\">AppID:</span><span style=\"color: #0000FF;\">        </span> <span style=\"color: #0000FF;\">SysID:</span><span style=\"color: #0000FF;\">        </span>\n\n     <span style=\"color: #C0C0C0;\">This is a Credit Card Demo Application for Mainframe Modernization</span>\n\n                     <span style=\"color: #0000FF;\">+========================================+</span>\n                     <span style=\"color: #0000FF;\">|%%%%%%%  NATIONAL RESERVE NOTE  %%%%%%%%|</span>\n                     <span style=\"color: #0000FF;\">|%(1)  THE UNITED STATES OF KICSLAND (1)%|</span>\n                     <span style=\"color: #0000FF;\">|%$$              ___       ********  $$%|</span>\n                     <span style=\"color: #0000FF;\">|%$    {x}       (o o)                 $%|</span>\n                     <span style=\"color: #0000FF;\">|%$     ******  (  V  )      O N E     $%|</span>\n                     <span style=\"color: #0000FF;\">|%(1)          ---m-m---             (1)%|</span>\n                     <span style=\"color: #0000FF;\">|%%~~~~~~~~~~~ ONE DOLLAR ~~~~~~~~~~~~~%%|</span>\n                     <span style=\"color: #0000FF;\">+========================================+</span>\n\n                <span style=\"color: #00FFFF;\">Type your User ID and Password, then press ENTER:</span>\n\n                            <span style=\"color: #00FFFF;\">User ID     :</span><span style=\"color: #00FF00;\">        </span> <span style=\"color: #0000FF;\">(8 Char)</span>\n                            <span style=\"color: #00FFFF;\">Password    :</span><span style=\"color: #00FF00;\">________</span> <span style=\"color: #0000FF;\">(8 Char)</span>\n\n\n\n<span style=\"color: #FF0000;\">                                                                              </span>\n<span style=\"color: #FFFF00;\">ENTER=Sign-on  F3=Exit</span>\n</div>",
            "order": 1
        },
        {
            "name": "COMEN01",
            "content": "<div style=\"font-family: 'Courier New', monospace; background-color: #000000; color: #FFFFFF; white-space: pre;\">\n<span style=\"color: #0000FF;\">Tran:</span><span style=\"color: #0000FF;\">CM00</span>      <span style=\"color: #FFFF00;\">      AWS Mainframe Modernization       </span> <span style=\"color: #0000FF;\">Date:</span><span style=\"color: #0000FF;\">mm/dd/yy</span>\n<span style=\"color: #0000FF;\">Prog:</span><span style=\"color: #0000FF;\">COMEN01C</span>  <span style=\"color: #FFFF00;\">              CardDemo                  </span> <span style=\"color: #0000FF;\">Time:</span><span style=\"color: #0000FF;\">hh:mm:ss</span>\n\n\n                                  <span style=\"color: #FFFFFF; font-weight: bold;\">Main Menu</span>\n\n\n                   <span style=\"color: #0000FF;\">1. Account View                       </span>\n                   <span style=\"color: #0000FF;\">2. Account Update                     </span>\n                   <span style=\"color: #0000FF;\">3. Credit Card List                   </span>\n                   <span style=\"color: #0000FF;\">4. Credit Card View                   </span>\n                   <span style=\"color: #0000FF;\">5. Credit Card Update                 </span>\n                   <span style=\"color: #0000FF;\">6. Transaction List                   </span>\n                   <span style=\"color: #0000FF;\">7. Transaction View                   </span>\n                   <span style=\"color: #0000FF;\">8. Transaction Add                    </span>\n                   <span style=\"color: #0000FF;\">9. Transaction Reports                </span>\n                   <span style=\"color: #0000FF;\">10. Bill Payment                       </span>\n                   <span style=\"color: #0000FF;\">11. Pending Authorization View         </span>\n                   <span style=\"color: #0000FF;\"> </span>\n\n\n\n\n              <span style=\"color: #00FFFF; font-weight: bold;\">Please select an option :</span><span style=\"text-decoration: underline;\">  </span>\n\n\n\n<span style=\"color: #FF0000; font-weight: bold;\">                                                                              </span>\n<span style=\"color: #FFFF00;\">ENTER=Continue  F3=Exit</span>\n</div>",
            "order": 2
        },
        {
            "name": "COTRN02",
            "content": "<div style=\"font-family: 'Courier New', monospace; background-color: #000000; color: #FFFFFF; white-space: pre;\">\n<span style=\"color: #0000FF;\">Tran:</span><span style=\"color: #0000FF;\">CT02</span>         <span style=\"color: #FFFF00;\">      AWS Mainframe Modernization       </span>         <span style=\"color: #0000FF;\">Date:</span><span style=\"color: #0000FF;\">mm/dd/yy</span>\n<span style=\"color: #0000FF;\">Prog:</span><span style=\"color: #0000FF;\">COTRN02C</span>     <span style=\"color: #FFFF00;\">              CardDemo                  </span>         <span style=\"color: #0000FF;\">Time:</span><span style=\"color: #0000FF;\">hh:mm:ss</span>\n\n                              <span style=\"color: #FFFFFF; font-weight: bold;\">Add Transaction</span>\n\n      <span style=\"color: #00FFFF;\">Enter Acct #:</span> <span style=\"color: #00FF00; text-decoration: underline;\">           </span>    <span style=\"color: #FFFFFF;\">(or)</span> <span style=\"color: #00FFFF;\">Card #:</span> <span style=\"color: #00FF00; text-decoration: underline;\">                </span>\n\n      ------------------------------------------------------------------------------\n\n      <span style=\"color: #00FFFF;\">Type CD:</span> <span style=\"color: #00FF00; text-decoration: underline;\">  </span>     <span style=\"color: #00FFFF;\">Category CD:</span> <span style=\"color: #00FF00; text-decoration: underline;\">    </span>     <span style=\"color: #00FFFF;\">Source:</span> <span style=\"color: #00FF00; text-decoration: underline;\">          </span>\n\n      <span style=\"color: #00FFFF;\">Description:</span> <span style=\"color: #00FF00; text-decoration: underline;\">                                                            </span>\n\n      <span style=\"color: #00FFFF;\">Amount:</span> <span style=\"color: #00FF00; text-decoration: underline;\">            </span>    <span style=\"color: #00FFFF;\">Orig Date:</span> <span style=\"color: #00FF00; text-decoration: underline;\">          </span>    <span style=\"color: #00FFFF;\">Proc Date:</span> <span style=\"color: #00FF00; text-decoration: underline;\">          </span>\n             <span style=\"color: #0000FF;\">(-99999999.99)</span>         <span style=\"color: #0000FF;\">(YYYY-MM-DD)</span>         <span style=\"color: #0000FF;\">(YYYY-MM-DD)</span>\n      <span style=\"color: #00FFFF;\">Merchant ID:</span> <span style=\"color: #00FF00; text-decoration: underline;\">         </span>    <span style=\"color: #00FFFF;\">Merchant Name:</span> <span style=\"color: #00FF00; text-decoration: underline;\">                              </span>\n\n      <span style=\"color: #00FFFF;\">Merchant City:</span> <span style=\"color: #00FF00; text-decoration: underline;\">                         </span>      <span style=\"color: #00FFFF;\">Merchant Zip:</span> <span style=\"color: #00FF00; text-decoration: underline;\">          </span>\n\n\n      <span style=\"color: #00FFFF;\">You are about to add this transaction. Please confirm :</span> <span style=\"color: #00FF00; text-decoration: underline;\"> </span> <span style=\"color: #FFFFFF;\">(Y/N)</span>\n\n<span style=\"color: #FF0000; font-weight: bold;\">                                                                              </span>\n<span style=\"color: #FFFF00;\">ENTER=Continue  F3=Back  F4=Clear  F5=Copy Last Tran.</span>\n</div>",
            "order": 3
        }
    ],
    "flow_diagram_code": "flowchart TD\n    COTRN02C[\"Main transaction processing program for adding new financial transactions with validation and confirmation (COTRN02C) \"]\n    COMEN01C[\"Main menu interface for regular users with navigation and access control (COMEN01C) \"]\n    COSGN00C[\"User authentication and sign-on screen with credential validation (COSGN00C) \"]\n    COADM01C[\"Administrative menu interface for admin users with function selection (COADM01C) \"]\n    CSUTLDTC[\"Date validation utility that validates dates using IBM Language Environment API (CSUTLDTC) \"]\n    COTRN02C --> COMEN01C\n    COTRN02C --> COSGN00C\n    COTRN02C --> CSUTLDTC\n    COMEN01C --> COSGN00C\n    COSGN00C --> COADM01C\n    COSGN00C --> COMEN01C\n    COADM01C --> COSGN00C\n"
}