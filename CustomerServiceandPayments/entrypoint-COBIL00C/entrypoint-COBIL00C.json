{
    "created_on": "2026-01-21",
    "document_title": "CB00 Transaction Documentation",
    "type": "entry_point",
    "document_name": "CB00",
    "summary": {
        "overview": "The CardDemo Bill Payment transaction (CB00) provides customers with an online interface to pay their full account balance. The system validates account information, displays current balance, processes payment confirmation, and creates transaction records while updating the account to a zero balance.",
        "business_functions": [
            "Initialize Program - Set up initial program state and error flags",
            "Handle First Time Entry - Process initial program entry without communication area",
            "Handle Program Re-entry - Process subsequent program entries with existing communication area",
            "Receive User Input - Capture user input from bill payment screen",
            "Validate Account ID Input - Check if account ID field is not empty",
            "Read Account Information - Retrieve account details from account data file",
            "Display Current Balance - Show the current account balance to user",
            "Validate Account Balance - Check if account has outstanding balance to pay",
            "Validate Payment Confirmation - Check if confirmation field contains valid Y/N values",
            "Handle Payment Confirmation Request - Prompt user to confirm payment when not yet confirmed",
            "Generate Transaction ID - Create unique transaction identifier for bill payment",
            "Create Payment Transaction Record - Build transaction record with payment details",
            "Record Bill Payment Transaction - Write payment transaction to transaction file",
            "Update Account Balance - Reduce account balance by payment amount",
            "Display Payment Success Message - Show successful payment confirmation with transaction ID",
            "Process Function Keys - Handle PF3 (return to previous screen), PF4 (clear screen), and invalid keys",
            "Clear Screen Fields - Reset all input fields on the screen",
            "Display Error Messages - Show validation and processing error messages to user",
            "Navigate to Previous Screen - Return control to calling program or main menu"
        ],
        "environment_summary": {
            "workload_type": "Transaction",
            "database_types": [
                "VSAM"
            ],
            "integration_components": [
                "CICS"
            ],
            "dataset_types": [
                "VSAM"
            ]
        }
    },
    "functionality_flow": {
        "CB00": [
            {
                "program_name": "COBIL00C",
                "program_overview": "Processes online bill payments for customer accounts",
                "called_programs": [
                    "COMEN01C",
                    "COSGN00C"
                ]
            },
            {
                "program_name": "COMEN01C",
                "program_overview": "Displays main menu interface for regular users",
                "called_programs": [
                    "COSGN00C"
                ]
            },
            {
                "program_name": "COSGN00C",
                "program_overview": "Handles user authentication and sign-on processing",
                "called_programs": [
                    "COADM01C",
                    "COMEN01C"
                ]
            },
            {
                "program_name": "COADM01C",
                "program_overview": "Provides administrative menu interface for admin users",
                "called_programs": [
                    "COSGN00C"
                ]
            }
        ]
    },
    "datasource_summary": [
        {
            "name": "User Security File (USRSEC)",
            "original_name": "USRSEC",
            "business_name": "User Security File",
            "type": "CICS_FILE",
            "function": "User security file used to authenticate user credentials by reading user ID and password information",
            "used_by_programs": [
                "COSGN00C.cbl"
            ],
            "accessType": [
                "READ"
            ]
        },
        {
            "name": "Account Data File (ACCTDAT)",
            "original_name": "ACCTDAT",
            "business_name": "Account Data File",
            "type": "CICS_FILE",
            "function": "Account data file used to read account information and update account balance after bill payment processing",
            "used_by_programs": [
                "COBIL00C.cbl"
            ],
            "accessType": [
                "READ",
                "UPDATE"
            ]
        },
        {
            "name": "Card Cross-Reference Index File (CXACAIX)",
            "original_name": "CXACAIX",
            "business_name": "Card Cross-Reference Index File",
            "type": "CICS_FILE",
            "function": "Card cross-reference index file used to retrieve card number associated with the account for transaction processing",
            "used_by_programs": [
                "COBIL00C.cbl"
            ],
            "accessType": [
                "READ"
            ]
        },
        {
            "name": "Transaction File (TRANSACT)",
            "original_name": "TRANSACT",
            "business_name": "Transaction File",
            "type": "CICS_FILE",
            "function": "Transaction file used to generate new transaction ID and write bill payment transaction records",
            "used_by_programs": [
                "COBIL00C.cbl"
            ],
            "accessType": [
                "READ",
                "WRITE"
            ]
        }
    ],
    "program_paths": {
        "COBIL00C": "aws-mainframe-modernization-carddemo-main/app/cbl/COBIL00C.cbl",
        "COMEN01C": "aws-mainframe-modernization-carddemo-main/app/cbl/COMEN01C.cbl",
        "COSGN00C": "aws-mainframe-modernization-carddemo-main/app/cbl/COSGN00C.cbl",
        "COADM01C": "aws-mainframe-modernization-carddemo-main/app/cbl/COADM01C.cbl"
    },
    "screen_preview": [
        {
            "name": "COADM01",
            "content": "<div style=\"font-family: 'Courier New', monospace; background-color: #000000; color: #FFFFFF; white-space: pre;\">\n<span style=\"color: #0000FF;\">Tran:</span><span style=\"color: #0000FF;\">CA00</span>      <span style=\"color: #FFFF00;\">      AWS Mainframe Modernization       </span> <span style=\"color: #0000FF;\">Date:</span><span style=\"color: #0000FF;\">mm/dd/yy</span>\n<span style=\"color: #0000FF;\">Prog:</span><span style=\"color: #0000FF;\">COADM01C</span>  <span style=\"color: #FFFF00;\">              CardDemo                  </span> <span style=\"color: #0000FF;\">Time:</span><span style=\"color: #0000FF;\">hh:mm:ss</span>\n\n\n                                   <span style=\"color: #FFFFFF; font-weight: bold;\">Admin Menu</span>\n\n\n                    1. User List (Security)               \n                    2. User Add (Security)                \n                    3. User Update (Security)             \n                    4. User Delete (Security)             \n                    5. Transaction Type List/Update (Db2) \n                    6. Transaction Type Maintenance (Db2) \n                     \n                     \n                     \n                     \n                     \n                     \n\n\n               <span style=\"color: #00FFFF; font-weight: bold;\">Please select an option :</span><span style=\"text-decoration: underline;\">  </span>\n\n\n\n\n<span style=\"color: #FF0000; font-weight: bold;\">                                                                              </span>\n<span style=\"color: #FFFF00;\">ENTER=Continue  F3=Exit</span>\n</div>",
            "order": 0
        },
        {
            "name": "COSGN00",
            "content": "<div style=\"font-family: 'Courier New', monospace; background-color: #000000; color: #FFFFFF; white-space: pre;\">\n<span style=\"color: #0000FF;\">Tran :</span><span style=\"color: #0000FF;\">CC00</span>     <span style=\"color: #FFFF00;\">      AWS Mainframe Modernization       </span> <span style=\"color: #0000FF;\">Date :</span><span style=\"color: #0000FF;\">mm/dd/yy</span>\n<span style=\"color: #0000FF;\">Prog :</span><span style=\"color: #0000FF;\">COSGN00C</span> <span style=\"color: #FFFF00;\">              CardDemo                  </span> <span style=\"color: #0000FF;\">Time :</span><span style=\"color: #0000FF;\">Ahh:mm:ss</span>\n<span style=\"color: #0000FF;\">AppID:</span><span style=\"color: #0000FF;\">        </span> <span style=\"color: #0000FF;\">SysID:</span><span style=\"color: #0000FF;\">        </span>\n\n     <span style=\"color: #C0C0C0;\">This is a Credit Card Demo Application for Mainframe Modernization</span>\n\n                     <span style=\"color: #0000FF;\">+========================================+</span>\n                     <span style=\"color: #0000FF;\">|%%%%%%%  NATIONAL RESERVE NOTE  %%%%%%%%|</span>\n                     <span style=\"color: #0000FF;\">|%(1)  THE UNITED STATES OF KICSLAND (1)%|</span>\n                     <span style=\"color: #0000FF;\">|%$$              ___       ********  $$%|</span>\n                     <span style=\"color: #0000FF;\">|%$    {x}       (o o)                 $%|</span>\n                     <span style=\"color: #0000FF;\">|%$     ******  (  V  )      O N E     $%|</span>\n                     <span style=\"color: #0000FF;\">|%(1)          ---m-m---             (1)%|</span>\n                     <span style=\"color: #0000FF;\">|%%~~~~~~~~~~~ ONE DOLLAR ~~~~~~~~~~~~~%%|</span>\n                     <span style=\"color: #0000FF;\">+========================================+</span>\n\n                <span style=\"color: #00FFFF;\">Type your User ID and Password, then press ENTER:</span>\n\n                            <span style=\"color: #00FFFF;\">User ID     :</span><span style=\"color: #00FF00;\">        </span> <span style=\"color: #0000FF;\">(8 Char)</span>\n                            <span style=\"color: #00FFFF;\">Password    :</span><span style=\"color: #00FF00;\">________</span> <span style=\"color: #0000FF;\">(8 Char)</span>\n\n\n\n<span style=\"color: #FF0000;\">                                                                              </span>\n<span style=\"color: #FFFF00;\">ENTER=Sign-on  F3=Exit</span>\n</div>",
            "order": 1
        },
        {
            "name": "COMEN01",
            "content": "<div style=\"font-family: 'Courier New', monospace; background-color: #000000; color: #FFFFFF; white-space: pre;\">\n<span style=\"color: #0000FF;\">Tran:</span><span style=\"color: #0000FF;\">CM00</span>      <span style=\"color: #FFFF00;\">      AWS Mainframe Modernization       </span> <span style=\"color: #0000FF;\">Date:</span><span style=\"color: #0000FF;\">mm/dd/yy</span>\n<span style=\"color: #0000FF;\">Prog:</span><span style=\"color: #0000FF;\">COMEN01C</span>  <span style=\"color: #FFFF00;\">              CardDemo                  </span> <span style=\"color: #0000FF;\">Time:</span><span style=\"color: #0000FF;\">hh:mm:ss</span>\n\n\n                                  <span style=\"color: #FFFFFF; font-weight: bold;\">Main Menu</span>\n\n\n                   <span style=\"color: #0000FF;\">1. Account View                       </span>\n                   <span style=\"color: #0000FF;\">2. Account Update                     </span>\n                   <span style=\"color: #0000FF;\">3. Credit Card List                   </span>\n                   <span style=\"color: #0000FF;\">4. Credit Card View                   </span>\n                   <span style=\"color: #0000FF;\">5. Credit Card Update                 </span>\n                   <span style=\"color: #0000FF;\">6. Transaction List                   </span>\n                   <span style=\"color: #0000FF;\">7. Transaction View                   </span>\n                   <span style=\"color: #0000FF;\">8. Transaction Add                    </span>\n                   <span style=\"color: #0000FF;\">9. Transaction Reports                </span>\n                   <span style=\"color: #0000FF;\">10. Bill Payment                       </span>\n                   <span style=\"color: #0000FF;\">11. Pending Authorization View         </span>\n                   <span style=\"color: #0000FF;\"> </span>\n\n\n\n\n              <span style=\"color: #00FFFF; font-weight: bold;\">Please select an option :</span><span style=\"text-decoration: underline;\">  </span>\n\n\n\n<span style=\"color: #FF0000; font-weight: bold;\">                                                                              </span>\n<span style=\"color: #FFFF00;\">ENTER=Continue  F3=Exit</span>\n</div>",
            "order": 2
        },
        {
            "name": "COBIL00",
            "content": "<div style=\"font-family: 'Courier New', monospace; background-color: #000000; color: #FFFFFF; white-space: pre;\">\n<span style=\"color: #0000FF;\">Tran:</span><span style=\"color: #0000FF;\">CB00</span>      <span style=\"color: #FFFF00;\">      AWS Mainframe Modernization       </span>     <span style=\"color: #0000FF;\">Date:</span><span style=\"color: #0000FF;\">mm/dd/yy</span>\n<span style=\"color: #0000FF;\">Prog:</span><span style=\"color: #0000FF;\">COBIL00C</span>  <span style=\"color: #FFFF00;\">              CardDemo                  </span>     <span style=\"color: #0000FF;\">Time:</span><span style=\"color: #0000FF;\">hh:mm:ss</span>\n\n\n                                   <span style=\"color: #FFFFFF; font-weight: bold;\">Bill Payment</span>\n\n     <span style=\"color: #00FF00;\">Enter Acct ID:</span> <span style=\"color: #00FF00; text-decoration: underline;\">___________</span>\n\n     <span style=\"color: #FFFF00;\">----------------------------------------------------------------------</span>\n\n\n\n     <span style=\"color: #00FFFF;\">Your current balance is: </span><span style=\"color: #0000FF;\">______________</span>\n\n\n\n\n     <span style=\"color: #00FFFF;\">Do you want to pay your balance now. Please confirm: </span><span style=\"color: #00FF00; text-decoration: underline;\">_</span> <span style=\"color: #FFFFFF;\">(Y/N)</span>\n\n\n\n\n                                                                              \n<span style=\"color: #FF0000; font-weight: bold;\">______________________________________________________________________________</span>\n<span style=\"color: #FFFF00;\">ENTER=Continue  F3=Back  F4=Clear</span>\n</div>",
            "order": 3
        }
    ],
    "flow_diagram_code": "flowchart TD\n    COBIL00C[\"Processes online bill payments for customer accounts (COBIL00C) \"]\n    COMEN01C[\"Displays main menu interface for regular users (COMEN01C) \"]\n    COSGN00C[\"Handles user authentication and sign-on processing (COSGN00C) \"]\n    COADM01C[\"Provides administrative menu interface for admin users (COADM01C) \"]\n    COBIL00C --> COMEN01C\n    COBIL00C --> COSGN00C\n    COMEN01C --> COSGN00C\n    COSGN00C --> COADM01C\n    COSGN00C --> COMEN01C\n    COADM01C --> COSGN00C\n"
}